<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R 语言入门，给一心只有学习的你</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R 语言入门，给一心只有学习的你" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R 语言入门，给一心只有学习的你" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Chris Qi from Data Maniac">


<meta name="date" content="2018-09-07">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="-matrices.html">
<link rel="next" href="-data-frames.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">零基础学R语言</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 前言</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#r-"><i class="fa fa-check"></i><b>1.1</b> R 的前世今生</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#r-"><i class="fa fa-check"></i><b>1.2</b> R 的安装</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#rstudio"><i class="fa fa-check"></i><b>1.3</b> RStudio界面</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="-r-basics-1.html"><a href="-r-basics-1.html"><i class="fa fa-check"></i><b>2</b> 新手上路 R Basics 1</a><ul>
<li class="chapter" data-level="2.1" data-path="-r-basics-1.html"><a href="-r-basics-1.html#r"><i class="fa fa-check"></i><b>2.1</b> R的数学运算：</a></li>
<li class="chapter" data-level="2.2" data-path="-r-basics-1.html"><a href="-r-basics-1.html#section-2.2"><i class="fa fa-check"></i><b>2.2</b> 赋值</a></li>
<li class="chapter" data-level="2.3" data-path="-r-basics-1.html"><a href="-r-basics-1.html#-or-help-"><i class="fa fa-check"></i><b>2.3</b> 使用 ? or help() 查询</a></li>
<li class="chapter" data-level="2.4" data-path="-r-basics-1.html"><a href="-r-basics-1.html#section-2.4"><i class="fa fa-check"></i><b>2.4</b> 功能包</a></li>
<li class="chapter" data-level="2.5" data-path="-r-basics-1.html"><a href="-r-basics-1.html#section-2.5"><i class="fa fa-check"></i><b>2.5</b> 查看路径和设置路径</a></li>
<li class="chapter" data-level="2.6" data-path="-r-basics-1.html"><a href="-r-basics-1.html#section-2.6"><i class="fa fa-check"></i><b>2.6</b> 数据类型</a></li>
<li class="chapter" data-level="2.7" data-path="-r-basics-1.html"><a href="-r-basics-1.html#section-2.7"><i class="fa fa-check"></i><b>2.7</b> 数据结构</a><ul>
<li class="chapter" data-level="2.7.1" data-path="-r-basics-1.html"><a href="-r-basics-1.html#vector-"><i class="fa fa-check"></i><b>2.7.1</b> vector 向量</a></li>
<li class="chapter" data-level="2.7.2" data-path="-r-basics-1.html"><a href="-r-basics-1.html#matrix-"><i class="fa fa-check"></i><b>2.7.2</b> matrix 矩阵</a></li>
<li class="chapter" data-level="2.7.3" data-path="-r-basics-1.html"><a href="-r-basics-1.html#dataframe-"><i class="fa fa-check"></i><b>2.7.3</b> dataframe 数据框</a></li>
<li class="chapter" data-level="2.7.4" data-path="-r-basics-1.html"><a href="-r-basics-1.html#-factor"><i class="fa fa-check"></i><b>2.7.4</b> 因子 factor</a></li>
<li class="chapter" data-level="2.7.5" data-path="-r-basics-1.html"><a href="-r-basics-1.html#list-"><i class="fa fa-check"></i><b>2.7.5</b> list 列表</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="-r-basics-1.html"><a href="-r-basics-1.html#section-2.8"><i class="fa fa-check"></i><b>2.8</b> 常用函数</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>3</b> 向量Vectors</a><ul>
<li class="chapter" data-level="3.1" data-path="vectors.html"><a href="vectors.html#-create-a-vector-2"><i class="fa fa-check"></i><b>3.1</b> 创建一个向量 Create a vector (2)</a></li>
<li class="chapter" data-level="3.2" data-path="vectors.html"><a href="vectors.html#create-a-vector-3"><i class="fa fa-check"></i><b>3.2</b> Create a vector (3)</a></li>
<li class="chapter" data-level="3.3" data-path="vectors.html"><a href="vectors.html#naming-a-vector"><i class="fa fa-check"></i><b>3.3</b> Naming a vector</a></li>
<li class="chapter" data-level="3.4" data-path="vectors.html"><a href="vectors.html#naming-a-vector-2"><i class="fa fa-check"></i><b>3.4</b> Naming a vector (2)</a></li>
<li class="chapter" data-level="3.5" data-path="vectors.html"><a href="vectors.html#calculating-total-winnings"><i class="fa fa-check"></i><b>3.5</b> Calculating total winnings</a></li>
<li class="chapter" data-level="3.6" data-path="vectors.html"><a href="vectors.html#calculating-total-winnings-2"><i class="fa fa-check"></i><b>3.6</b> Calculating total winnings (2)</a></li>
<li class="chapter" data-level="3.7" data-path="vectors.html"><a href="vectors.html#calculating-total-winnings-3"><i class="fa fa-check"></i><b>3.7</b> Calculating total winnings (3)</a></li>
<li class="chapter" data-level="3.8" data-path="vectors.html"><a href="vectors.html#comparing-total-winnings"><i class="fa fa-check"></i><b>3.8</b> Comparing total winnings</a></li>
<li class="chapter" data-level="3.9" data-path="vectors.html"><a href="vectors.html#vector-selection-the-good-times"><i class="fa fa-check"></i><b>3.9</b> Vector selection: the good times</a></li>
<li class="chapter" data-level="3.10" data-path="vectors.html"><a href="vectors.html#vector-selection-the-good-times-2"><i class="fa fa-check"></i><b>3.10</b> Vector selection: the good times (2)</a></li>
<li class="chapter" data-level="3.11" data-path="vectors.html"><a href="vectors.html#vector-selection-the-good-times-3"><i class="fa fa-check"></i><b>3.11</b> Vector selection: the good times (3)</a></li>
<li class="chapter" data-level="3.12" data-path="vectors.html"><a href="vectors.html#vector-selection-the-good-times-4"><i class="fa fa-check"></i><b>3.12</b> Vector selection: the good times (4)</a></li>
<li class="chapter" data-level="3.13" data-path="vectors.html"><a href="vectors.html#selection-by-comparison---step-1"><i class="fa fa-check"></i><b>3.13</b> Selection by comparison - Step 1</a></li>
<li class="chapter" data-level="3.14" data-path="vectors.html"><a href="vectors.html#selection-by-comparison---step-2"><i class="fa fa-check"></i><b>3.14</b> Selection by comparison - Step 2</a></li>
<li class="chapter" data-level="3.15" data-path="vectors.html"><a href="vectors.html#advanced-selection"><i class="fa fa-check"></i><b>3.15</b> Advanced selection</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="-matrices.html"><a href="-matrices.html"><i class="fa fa-check"></i><b>4</b> 矩阵 Matrices</a></li>
<li class="chapter" data-level="5" data-path="-r-basics-1.html"><a href="-r-basics-1.html#-factor"><i class="fa fa-check"></i><b>5</b> 分类变量 factor</a></li>
<li class="chapter" data-level="6" data-path="-data-frames.html"><a href="-data-frames.html"><i class="fa fa-check"></i><b>6</b> 数据框 Data frames</a><ul>
<li class="chapter" data-level="6.1" data-path="-data-frames.html"><a href="-data-frames.html#whats-a-data-frame"><i class="fa fa-check"></i><b>6.1</b> What’s a data frame?</a></li>
<li class="chapter" data-level="6.2" data-path="-data-frames.html"><a href="-data-frames.html#creating-a-data-frame"><i class="fa fa-check"></i><b>6.2</b> Creating a data frame</a></li>
<li class="chapter" data-level="6.3" data-path="-data-frames.html"><a href="-data-frames.html#sorting"><i class="fa fa-check"></i><b>6.3</b> Sorting</a></li>
<li class="chapter" data-level="6.4" data-path="-data-frames.html"><a href="-data-frames.html#sorting-your-data-frame"><i class="fa fa-check"></i><b>6.4</b> Sorting your data frame</a></li>
<li class="chapter" data-level="6.5" data-path="-data-frames.html"><a href="-data-frames.html#lists-why-would-you-need-them"><i class="fa fa-check"></i><b>6.5</b> Lists, why would you need them?</a></li>
<li class="chapter" data-level="6.6" data-path="-data-frames.html"><a href="-data-frames.html#lists-why-would-you-need-them-2"><i class="fa fa-check"></i><b>6.6</b> Lists, why would you need them? (2)</a></li>
<li class="chapter" data-level="6.7" data-path="-data-frames.html"><a href="-data-frames.html#creating-a-list"><i class="fa fa-check"></i><b>6.7</b> Creating a list</a></li>
<li class="chapter" data-level="6.8" data-path="-data-frames.html"><a href="-data-frames.html#creating-a-named-list"><i class="fa fa-check"></i><b>6.8</b> Creating a named list</a></li>
<li class="chapter" data-level="6.9" data-path="-data-frames.html"><a href="-data-frames.html#selecting-elements-from-a-list"><i class="fa fa-check"></i><b>6.9</b> Selecting elements from a list</a></li>
<li class="chapter" data-level="6.10" data-path="-data-frames.html"><a href="-data-frames.html#adding-more-movie-information-to-the-list"><i class="fa fa-check"></i><b>6.10</b> Adding more movie information to the list</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 语言入门，给一心只有学习的你</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="-factor" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> 分类变量 factor</h1>
<p>Very often, data falls into a limited number of categories. For example, human hair color can be categorized as black/brown/blonde/red/grey/white (and perhaps a few more options for people who dye it). In R, categorical data is stored in factors.</p>
<p>In this chapter you dive into the wonderful world of factors.</p>
<ul>
<li><p>The term factor refers to a statistical data type used to store categorical variables. The difference between a categorical variable and a continuous variable is that a categorical variable can belong to a limited number of categories. A continuous variable, on the other hand, can correspond to an infinite number of values.</p></li>
<li><p>It is important that R knows whether it is dealing with a continuous or a categorical variable, as the statistical models you will develop in the future treat both types differently. (You will see later why this is the case.)</p></li>
<li><p>A good example of a categorical variable is sex. In many circumstances you can limit the sex categories to “Male” or “Female”. (Sometimes you may need different categories. For example, you may need to consider chromosomal variation, hermaphroditic animals, or different cultural norms, but you will always have a finite number of categories.)</p></li>
<li><p>Assign to variable theory the value “factors for categorical variables”.</p></li>
</ul>
<p>Simply assign a variable (&lt;-); make sure to capitalize correctly.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" data-line-number="1"><span class="co"># Assign to the variable theory what this chapter is about!</span></a>
<a class="sourceLine" id="cb123-2" data-line-number="2">theory &lt;-<span class="st"> &quot;factors for categorical variables&quot;</span></a></code></pre></div>
<ul>
<li>What’s a factor and why would you use it? (2)
To create factors in R, you make use of the function factor(). First thing that you have to do is create a vector that contains all the observations that belong to a limited number of categories. For example, sex_vector contains the sex of 5 different individuals:</li>
</ul>
<p>sex_vector &lt;- c(“Male”,“Female”,“Female”,“Male”,“Male”)
It is clear that there are two categories, or in R-terms ‘factor levels’, at work here: “Male” and “Female”.</p>
<p>The function factor() will encode the vector as a factor:</p>
<p>factor_sex_vector &lt;- factor(sex_vector)</p>
<p>Convert the character vector sex_vector to a factor with factor() and assign the result to factor_sex_vector
Print out factor_sex_vector and assert that R prints out the factor levels below the actual values.</p>
<p>Simply use the function factor() on sex_vector. Have a look at the assignment, the answer is already there somewhere…</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="co"># Sex vector</span></a>
<a class="sourceLine" id="cb124-2" data-line-number="2">sex_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Male&quot;</span>)</a>
<a class="sourceLine" id="cb124-3" data-line-number="3"></a>
<a class="sourceLine" id="cb124-4" data-line-number="4"><span class="co"># Convert sex_vector to a factor</span></a>
<a class="sourceLine" id="cb124-5" data-line-number="5">factor_sex_vector &lt;-<span class="st"> </span><span class="kw">factor</span>(sex_vector)</a>
<a class="sourceLine" id="cb124-6" data-line-number="6"></a>
<a class="sourceLine" id="cb124-7" data-line-number="7"><span class="co"># Print out factor_sex_vector</span></a>
<a class="sourceLine" id="cb124-8" data-line-number="8">factor_sex_vector</a></code></pre></div>
<pre><code>## [1] Male   Female Female Male   Male  
## Levels: Female Male</code></pre>
<ul>
<li>What’s a factor and why would you use it? (3)
There are two types of categorical variables: a nominal categorical variable and an ordinal categorical variable.</li>
</ul>
<p>A nominal variable is a categorical variable without an implied order. This means that it is impossible to say that ‘one is worth more than the other’. For example, think of the categorical variable animals_vector with the categories “Elephant”, “Giraffe”, “Donkey” and “Horse”. Here, it is impossible to say that one stands above or below the other. (Note that some of you might disagree ;-) ).</p>
<p>In contrast, ordinal variables do have a natural ordering. Consider for example the categorical variable temperature_vector with the categories: “Low”, “Medium” and “High”. Here it is obvious that “Medium” stands above “Low”, and “High” stands above “Medium”.</p>
<p>Notice how R indicates the ordering of the factor levels for ordinal categorical variables.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1"><span class="co"># Animals</span></a>
<a class="sourceLine" id="cb126-2" data-line-number="2">animals_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Elephant&quot;</span>, <span class="st">&quot;Giraffe&quot;</span>, <span class="st">&quot;Donkey&quot;</span>, <span class="st">&quot;Horse&quot;</span>)</a>
<a class="sourceLine" id="cb126-3" data-line-number="3">factor_animals_vector &lt;-<span class="st"> </span><span class="kw">factor</span>(animals_vector)</a>
<a class="sourceLine" id="cb126-4" data-line-number="4">factor_animals_vector</a></code></pre></div>
<pre><code>## [1] Elephant Giraffe  Donkey   Horse   
## Levels: Donkey Elephant Giraffe Horse</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1"><span class="co"># Temperature</span></a>
<a class="sourceLine" id="cb128-2" data-line-number="2">temperature_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;High&quot;</span>, <span class="st">&quot;Low&quot;</span>, <span class="st">&quot;High&quot;</span>,<span class="st">&quot;Low&quot;</span>, <span class="st">&quot;Medium&quot;</span>)</a>
<a class="sourceLine" id="cb128-3" data-line-number="3">factor_temperature_vector &lt;-<span class="st"> </span><span class="kw">factor</span>(temperature_vector, <span class="dt">order =</span> <span class="ot">TRUE</span>, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Low&quot;</span>, <span class="st">&quot;Medium&quot;</span>, <span class="st">&quot;High&quot;</span>))</a>
<a class="sourceLine" id="cb128-4" data-line-number="4">factor_temperature_vector</a></code></pre></div>
<pre><code>## [1] High   Low    High   Low    Medium
## Levels: Low &lt; Medium &lt; High</code></pre>
<ul>
<li>Factor levels
When you first get a data set, you will often notice that it contains factors with specific factor levels. However, sometimes you will want to change the names of these levels for clarity or other reasons. R allows you to do this with the function levels():</li>
</ul>
<p>levels(factor_vector) &lt;- c(“name1”, “name2”,…)
A good illustration is the raw data that is provided to you by a survey. A common question for every questionnaire is the sex of the respondent. Here, for simplicity, just two categories were recorded, “M” and “F”. (You usually need more categories for survey data; either way, you use a factor to store the categorical data.)</p>
<p>survey_vector &lt;- c(“M”, “F”, “F”, “M”, “M”)
Recording the sex with the abbreviations “M” and “F” can be convenient if you are collecting data with pen and paper, but it can introduce confusion when analyzing the data. At that point, you will often want to change the factor levels to “Male” and “Female” instead of “M” and “F” for clarity.</p>
<ul>
<li>Watch out: the order with which you assign the levels is important. If you type levels(factor_survey_vector), you’ll see that it outputs [1] “F” “M”. If you don’t specify the levels of the factor when creating the vector, R will automatically assign them alphabetically. To correctly map “F” to “Female” and “M” to “Male”, the levels should be set to c(“Female”, “Male”), in this order.</li>
</ul>
<p>Check out the code that builds a factor vector from survey_vector. You should use factor_survey_vector in the next instruction.
Change the factor levels of factor_survey_vector to c(“Female”, “Male”). Mind the order of the vector elements here.</p>
<p>Mind the order in which you have to type in the factor levels. Hint: look at the order in which the levels are printed when typing levels(factor_survey_vector).</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1"><span class="co"># Code to build factor_survey_vector</span></a>
<a class="sourceLine" id="cb130-2" data-line-number="2">survey_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>)</a>
<a class="sourceLine" id="cb130-3" data-line-number="3">factor_survey_vector &lt;-<span class="st"> </span><span class="kw">factor</span>(survey_vector)</a>
<a class="sourceLine" id="cb130-4" data-line-number="4"></a>
<a class="sourceLine" id="cb130-5" data-line-number="5"><span class="co"># Specify the levels of factor_survey_vector</span></a>
<a class="sourceLine" id="cb130-6" data-line-number="6"><span class="kw">levels</span>(factor_survey_vector) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>)</a>
<a class="sourceLine" id="cb130-7" data-line-number="7"></a>
<a class="sourceLine" id="cb130-8" data-line-number="8">factor_survey_vector</a></code></pre></div>
<pre><code>## [1] Male   Female Female Male   Male  
## Levels: Female Male</code></pre>
<ul>
<li>Summarizing a factor
After finishing this course, one of your favorite functions in R will be summary(). This will give you a quick overview of the contents of a variable:</li>
</ul>
<p>summary(my_var)
Going back to our survey, you would like to know how many “Male” responses you have in your study, and how many “Female” responses. The summary() function gives you the answer to this question.</p>
<p>Ask a summary() of the survey_vector and factor_survey_vector. Interpret the results of both vectors. Are they both equally useful in this case?</p>
<p>Call the summary() function on both survey_vector and factor_survey_vector, it’s as simple as that!</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1"><span class="co"># Build factor_survey_vector with clean levels</span></a>
<a class="sourceLine" id="cb132-2" data-line-number="2">survey_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>)</a>
<a class="sourceLine" id="cb132-3" data-line-number="3">factor_survey_vector &lt;-<span class="st"> </span><span class="kw">factor</span>(survey_vector)</a>
<a class="sourceLine" id="cb132-4" data-line-number="4"><span class="kw">levels</span>(factor_survey_vector) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>)</a>
<a class="sourceLine" id="cb132-5" data-line-number="5">factor_survey_vector</a></code></pre></div>
<pre><code>## [1] Male   Female Female Male   Male  
## Levels: Female Male</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1"><span class="co"># Generate summary for survey_vector</span></a>
<a class="sourceLine" id="cb134-2" data-line-number="2"><span class="kw">summary</span>(survey_vector)</a></code></pre></div>
<pre><code>##    Length     Class      Mode 
##         5 character character</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1"><span class="co"># Generate summary for factor_survey_vector</span></a>
<a class="sourceLine" id="cb136-2" data-line-number="2"><span class="kw">summary</span>(factor_survey_vector)</a></code></pre></div>
<pre><code>## Female   Male 
##      2      3</code></pre>
<p>Have a look at the output. The fact that you identified “Male” and “Female” as factor levels in factor_survey_vector enables R to show the number of elements for each category.</p>
<ul>
<li>Battle of the sexes
You might wonder what happens when you try to compare elements of a factor. In factor_survey_vector you have a factor with two levels: “Male” and “Female”. But how does R value these relative to each other?</li>
</ul>
<p>Read the code in the editor and click ‘Submit Answer’ to test if male is greater than (&gt;) female.</p>
<p>Just click ‘Submit Answer’ and have a look at output that gets printed to the console.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1"><span class="co"># Build factor_survey_vector with clean levels</span></a>
<a class="sourceLine" id="cb138-2" data-line-number="2">survey_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>)</a>
<a class="sourceLine" id="cb138-3" data-line-number="3">factor_survey_vector &lt;-<span class="st"> </span><span class="kw">factor</span>(survey_vector)</a>
<a class="sourceLine" id="cb138-4" data-line-number="4"><span class="kw">levels</span>(factor_survey_vector) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>)</a>
<a class="sourceLine" id="cb138-5" data-line-number="5"></a>
<a class="sourceLine" id="cb138-6" data-line-number="6"><span class="co"># Male</span></a>
<a class="sourceLine" id="cb138-7" data-line-number="7">male &lt;-<span class="st"> </span>factor_survey_vector[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb138-8" data-line-number="8"></a>
<a class="sourceLine" id="cb138-9" data-line-number="9"><span class="co"># Female</span></a>
<a class="sourceLine" id="cb138-10" data-line-number="10">female &lt;-<span class="st"> </span>factor_survey_vector[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb138-11" data-line-number="11"></a>
<a class="sourceLine" id="cb138-12" data-line-number="12"><span class="co"># Battle of the sexes: Male &#39;larger&#39; than female?</span></a>
<a class="sourceLine" id="cb138-13" data-line-number="13">male <span class="op">&gt;</span><span class="st"> </span>female</a></code></pre></div>
<pre><code>## Warning in Ops.factor(male, female): &#39;&gt;&#39; not meaningful for factors</code></pre>
<pre><code>## [1] NA</code></pre>
<ul>
<li>Ordered factors
Since “Male” and “Female” are unordered (or nominal) factor levels, R returns a warning message, telling you that the greater than operator is not meaningful. As seen before, R attaches an equal value to the levels for such factors.</li>
</ul>
<p>But this is not always the case! Sometimes you will also deal with factors that do have a natural ordering between its categories. If this is the case, we have to make sure that we pass this information to R…</p>
<p>Let us say that you are leading a research team of five data analysts and that you want to evaluate their performance. To do this, you track their speed, evaluate each analyst as “slow”, “medium” or “fast”, and save the results in speed_vector.</p>
<p>As a first step, assign speed_vector a vector with 5 entries, one for each analyst. Each entry should be either “slow”, “medium”, or “fast”. Use the list below:</p>
<p>Analyst 1 is medium,
Analyst 2 is slow,
Analyst 3 is slow,
Analyst 4 is medium and
Analyst 5 is fast.
No need to specify these are factors yet.</p>
<p>Assign to speed_vector a vector containing the character strings “slow”, “medium”, or “fast”.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1"><span class="co"># Create speed_vector</span></a>
<a class="sourceLine" id="cb141-2" data-line-number="2">speed_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;medium&quot;</span>, <span class="st">&quot;slow&quot;</span>, <span class="st">&quot;slow&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;fast&quot;</span>)</a></code></pre></div>
<ul>
<li>Ordered factors (2)
speed_vector should be converted to an ordinal factor since its categories have a natural ordering. By default, the function factor() transforms speed_vector into an unordered factor. To create an ordered factor, you have to add two additional arguments: ordered and levels.</li>
</ul>
<p>factor(some_vector,
ordered = TRUE,
levels = c(“lev1”, “lev2” …))
By setting the argument ordered to TRUE in the function factor(), you indicate that the factor is ordered. With the argument levels you give the values of the factor in the correct order.</p>
<p>From speed_vector, create an ordered factor vector: factor_speed_vector. Set ordered to TRUE, and set levels to c(“slow”, “medium”, “fast”).</p>
<p>Use the function factor() to create factor_speed_vector based on speed_character_vector. The argument ordered should be set to TRUE since there is a natural ordering. Also, set levels = c(“slow”, “medium”, “fast”).</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1"><span class="co"># Create speed_vector</span></a>
<a class="sourceLine" id="cb142-2" data-line-number="2">speed_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;medium&quot;</span>, <span class="st">&quot;slow&quot;</span>, <span class="st">&quot;slow&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;fast&quot;</span>)</a>
<a class="sourceLine" id="cb142-3" data-line-number="3"></a>
<a class="sourceLine" id="cb142-4" data-line-number="4"><span class="co"># Add your code below</span></a>
<a class="sourceLine" id="cb142-5" data-line-number="5">factor_speed_vector &lt;-<span class="st"> </span><span class="kw">factor</span>(speed_vector, <span class="dt">ordered =</span> <span class="ot">TRUE</span>, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;slow&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;fast&quot;</span>))</a>
<a class="sourceLine" id="cb142-6" data-line-number="6"></a>
<a class="sourceLine" id="cb142-7" data-line-number="7"><span class="co"># Print factor_speed_vector</span></a>
<a class="sourceLine" id="cb142-8" data-line-number="8">factor_speed_vector</a></code></pre></div>
<pre><code>## [1] medium slow   slow   medium fast  
## Levels: slow &lt; medium &lt; fast</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" data-line-number="1"><span class="kw">summary</span>(factor_speed_vector)</a></code></pre></div>
<pre><code>##   slow medium   fast 
##      2      2      1</code></pre>
<ul>
<li>Comparing ordered factors
Having a bad day at work, ‘data analyst number two’ enters your office and starts complaining that ‘data analyst number five’ is slowing down the entire project. Since you know that ‘data analyst number two’ has the reputation of being a smarty-pants, you first decide to check if his statement is true.</li>
</ul>
<p>The fact that factor_speed_vector is now ordered enables us to compare different elements (the data analysts in this case). You can simply do this by using the well-known operators.</p>
<p>Use [2] to select from factor_speed_vector the factor value for the second data analyst. Store it as da2.
Use [5] to select the factor_speed_vector factor value for the fifth data analyst. Store it as da5.
Check if da2 is greater than da5; simply print out the result. Remember that you can use the &gt; operator to check whether one element is larger than the other.</p>
<p>To select the factor value for the third data analyst, you’d need factor_speed_vector[3].
To compare two values, you can use &gt;. For example: da3 &gt; da4.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1"><span class="co"># Create factor_speed_vector</span></a>
<a class="sourceLine" id="cb146-2" data-line-number="2">speed_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;medium&quot;</span>, <span class="st">&quot;slow&quot;</span>, <span class="st">&quot;slow&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;fast&quot;</span>)</a>
<a class="sourceLine" id="cb146-3" data-line-number="3">factor_speed_vector &lt;-<span class="st"> </span><span class="kw">factor</span>(speed_vector, <span class="dt">ordered =</span> <span class="ot">TRUE</span>, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;slow&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;fast&quot;</span>))</a>
<a class="sourceLine" id="cb146-4" data-line-number="4"></a>
<a class="sourceLine" id="cb146-5" data-line-number="5"><span class="co"># Factor value for second data analyst</span></a>
<a class="sourceLine" id="cb146-6" data-line-number="6">da2 &lt;-<span class="st"> </span>factor_speed_vector[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb146-7" data-line-number="7"></a>
<a class="sourceLine" id="cb146-8" data-line-number="8"><span class="co"># Factor value for fifth data analyst</span></a>
<a class="sourceLine" id="cb146-9" data-line-number="9">da5 &lt;-<span class="st"> </span>factor_speed_vector[<span class="dv">5</span>]</a>
<a class="sourceLine" id="cb146-10" data-line-number="10"></a>
<a class="sourceLine" id="cb146-11" data-line-number="11"><span class="co"># Is data analyst 2 faster data analyst 5?</span></a>
<a class="sourceLine" id="cb146-12" data-line-number="12">da2 <span class="op">&gt;</span><span class="st"> </span>da5</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>What do the result tell you? Data analyst two is complaining about the data analyst five while in fact they are the one slowing everything down! This concludes the chapter on factors. With a solid basis in vectors, matrices and factors, you’re ready to dive into the wonderful world of data frames, a very important data structure in R!</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="-matrices.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="-data-frames.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-factor.Rmd",
"text": "Edit"
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
